let model_matrix = [
  1, 0, 0, 0,
  0, 1, 0, 0,
  0, 0, 1, 0,
  0, 0, 0, 1,
]

function initModel1() {
  return [
    // torso
    // front
    0,  -100,  0, 
    0,   0,  0, 
    100,   -100,  0, 
    0,   0,  0, 
    100,    0,  0, 
    100,   -100,  0, 

    // back
    0, -100, 100,
    0, 0, 100,
    100, -100, 100,
    0, 0, 100,
    100, 0, 100,
    100, -100, 100,

    // left
    0, 0, 0,
    0, 0, 100,
    0, -100, 100,
    0, 0, 0,
    0, -100, 100,
    0, -100, 0,

    // right
    100, 0, 0,
    100, 0, 100,
    100, -100, 100,
    100, 0, 0,
    100, -100, 100,
    100, -100, 0,

    // bottom
    0, 0, 0,
    0, 0, 100,
    100, 0, 100,
    0, 0, 0,
    100, 0, 100,
    100, 0, 0,

    // top
    0, -100, 0,
    0, -100, 100,
    100, -100, 100,
    0, -100, 0,
    100, -100, 100,
    100, -100, 0,

    // left arm
    // front
    -70, -65, 40,
    -70, -40, 40,
    0, -65, 40,
    -70, -40, 40,
    0, -40, 40,
    0, -65, 40,

    // back
    -70, -65, 60,
    -70, -40, 60,
    0, -65, 60,
    -70, -40, 60,
    0, -40, 60,
    0, -65, 60,
    
    // left
    -70, -65, 40,
    -70, -40, 40,
    -70, -65, 60,
    -70, -40, 40,
    -70, -40, 60,
    -70, -65, 60,

    // right
    0, -65, 40,
    0, -40, 40,
    0, -65, 60,
    0, -40, 40,
    0, -40, 60,
    0, -65, 60,

    // bottom
    -70, -65, 40,
    -70, -65, 60,
    0, -65, 60,
    -70, -65, 40,
    0, -65, 40,
    0, -65, 60,

    // top
    -70, -40, 40,
    -70, -40, 60,
    0, -40, 60,
    -70, -40, 40,
    0, -40, 40,
    0, -40, 60,

    // right arm
    // front
    170, -65, 40,
    170, -40, 40,
    100, -65, 40,
    170, -40, 40,
    100, -40, 40,
    100, -65, 40,

    // back
    170, -65, 60,
    170, -40, 60,
    100, -65, 60,
    170, -40, 60,
    100, -40, 60,
    100, -65, 60,

    // left
    170, -65, 40,
    170, -40, 40,
    170, -65, 60,
    170, -40, 40,
    170, -40, 60,
    170, -65, 60,

    // right
    100, -65, 40,
    100, -40, 40,
    100, -65, 60,
    100, -40, 40,
    100, -40, 60,
    100, -65, 60,

    // bottom
    170, -65, 40,
    170, -65, 60,
    100, -65, 60,
    170, -65, 40,
    100, -65, 40,
    100, -65, 60,

    // top
    170, -40, 40,
    170, -40, 60,
    100, -40, 60,
    170, -40, 40,
    100, -40, 40,
    100, -40, 60,

    // left extended
    // front
    -70, -65, 40,
    -70, -130, 40,
    -50, -65, 40,
    -70, -130, 40,
    -50, -130, 40,
    -50, -65, 40,

    // back
    -70, -65, 60,
    -70, -130, 60,
    -50, -65, 60,
    -70, -130, 60,
    -50, -130, 60,
    -50, -65, 60,

    // left
    -70, -65, 40,
    -70, -130, 40,
    -70, -65, 60,
    -70, -130, 40,
    -70, -130, 60,
    -70, -65, 60,

    // right
    -50, -65, 40,
    -50, -130, 40,
    -50, -65, 60,
    -50, -130, 40,
    -50, -130, 60,
    -50, -65, 60,
    
    // bottom
    -70, -65, 40,
    -70, -65, 60,
    -50, -65, 60,
    -70, -65, 40,
    -50, -65, 40,
    -50, -65, 60,

    // top
    -70, -130, 40,
    -70, -130, 60,
    -50, -130, 60,
    -70, -130, 40,
    -50, -130, 40,
    -50, -130, 60,

    // right extended
    // front
    150, -65, 40,
    150, 10, 40,
    170, -65, 40,
    150, 10, 40,
    170, 10, 40,
    170, -65, 40,
    
    // back
    150, -65, 60,
    150, 10, 60,
    170, -65, 60,
    150, 10, 60,
    170, 10, 60,
    170, -65, 60,

    // left
    150, -65, 40,
    150, 10, 40,
    150, -65, 60,
    150, 10, 40,
    150, 10, 60,
    150, -65, 60,

    // right
    170, -65, 40,
    170, 10, 40,
    170, -65, 60,
    170, 10, 40,
    170, 10, 60,
    170, -65, 60,

    // bottom
    150, -65, 40,
    150, -65, 60,
    170, -65, 60,
    150, -65, 40,
    170, -65, 40,
    170, -65, 60,

    // top
    150, 10, 40,
    150, 10, 60,
    170, 10, 60,
    150, 10, 40,
    170, 10, 40,
    170, 10, 60,
  ]
}

function initColorModel1() {
  return [
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,

    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,

    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,

    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,

    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    200,  70, 120,
    
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,
    80,  70, 200,

    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,
    70, 200, 210,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,

    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,
    76, 210, 100,

    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
    200, 200, 70,
  ]
}

function getTextureModel1() {
  return [
    {
      target: gl.TEXTURE_CUBE_MAP_POSITIVE_X,
      url: "https://webglfundamentals.org/webgl/resources/images/computer-history-museum/pos-x.jpg",
    }, {
      target: gl.TEXTURE_CUBE_MAP_NEGATIVE_X,
      url: "https://webglfundamentals.org/webgl/resources/images/computer-history-museum/neg-x.jpg",
    }, {
      target: gl.TEXTURE_CUBE_MAP_POSITIVE_Y,
      url: 'https://webglfundamentals.org/webgl/resources/images/computer-history-museum/pos-y.jpg',
    }, {
      target: gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,
      url: 'https://webglfundamentals.org/webgl/resources/images/computer-history-museum/neg-y.jpg',
    }, {
      target: gl.TEXTURE_CUBE_MAP_POSITIVE_Z,
      url: 'https://webglfundamentals.org/webgl/resources/images/computer-history-museum/pos-z.jpg',
    }, {
      target: gl.TEXTURE_CUBE_MAP_NEGATIVE_Z,
      url: 'https://webglfundamentals.org/webgl/resources/images/computer-history-museum/neg-z.jpg',
    },
  ]
}

function loadModel1Texture() {
  const texture = gl.createTexture()
  gl.bindTexture(gl.TEXTURE_CUBE_MAP, texture)

  getTextureModel1().forEach((faceInfo) => {
    const { target, url } = faceInfo

    const level = 0
    const internalFormat = gl.RGBA
    const width = 512
    const height = 512
    const border = 0
    const format = gl.RGBA
    const type = gl.UNSIGNED_BYTE
    const pixel = null

    gl.texImage2D(target, level, internalFormat, width, height, border, format, type, pixel)

    const image = new Image()
    requestCORSIfNotSameOrigin(image, url)
    image.addEventListener('load', function() {
      gl.bindTexture(gl.TEXTURE_CUBE_MAP, texture)
      gl.texImage2D(target, level, internalFormat, format, type, image)
      if (isPowerOf2(image.width) && isPowerOf2(image.height)) {
        gl.generateMipmap(gl.TEXTURE_CUBE_MAP)
      } else {
        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)
        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)
        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MAP_LINEAR)
      }
    })
    image.src = url
  })
  return texture
}
